<IfModule mod_rewrite.c>
    RewriteEngine On

    # Redirect to the public folder
    RewriteCond %{REQUEST_URI} !^/public/
    RewriteRule ^(.*)$ /public/$1 [L,QSA]

    # Handle index.php
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ index.php [L]
</IfModule>

# Protect .env file
<Files .env>
    Order allow,deny
    Deny from all
</Files>

# Protect storage and framework directories
RewriteRule ^storage/.*$ - [F,L]
RewriteRule ^bootstrap/.*$ - [F,L]
RewriteRule ^resources/.*$ - [F,L]
RewriteRule ^config/.*$ - [F,L]
RewriteRule ^vendor/.*$ - [F,L]